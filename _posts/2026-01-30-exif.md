---
layout: post
title: "디지털 포렌식 exif 학습 및 분석"
date: 2026-01-31
categories: [study, 포렌식]
tags: ["Blog", "study", "code"]
---


## 디지털 포렌식 exif 학습 및 분석



<br>
<br>
<br>
<br>

![](https://velog.velcdn.com/images/woori4603_/post/29a7208c-97f1-4faf-a887-9fb5c4299eb3/image.png)

<br>
<br>
<br>
<br>
<br>
<br>


### 1. 분석 서론
이 보고서는 디지털포렌식 EXIF를 학습한 후, 타인의 이해를 돕기 위해 작성되었다. 



 > 과제 : 자신의 1주일간의 동선을 파악한 후 위도, 경도를 추출해 내어 PYTHON 코드를 작성하여 알아낸 후 보고서를 작성하라.

  

#### 1-1. 분석 내용
exif, 교환 이미지 파일 형식으로, 이를 이용하여 추적 대상자의 위치, 이동 경로 등을 파악할 수 있다. python 코드를 사용해 GPS 주소를 파악한 후 위도, 경도를 Google Map에 찾아 이동 동선을 파악하는 것으로 진행되었다.


#### 1-2. 관련 용어 정리

```Exif``` : 교환 이미지 파일 형식, 디지털 카메라의 이미지 파일 안에 저장되어 있는 파일 형식
```directory``` : 컴퓨팅에서 파일을 분류하기 위해 사용하는 이름공간, 파일들을 묶어놓는 곳
```os``` : 운영체제
```PIL``` : 라이브러리의 한 종류로 이미지를 처리할 수 있다.
```GPS``` : 범지구위치결정시스템으로, 말 그대로 대상의 위치를 추적할 수 있다.


#### 1-3. 사용 코드 (Python)
```
import os 
from PIL import Image 
from PIL.ExifTags import TAGS, GPSTAGS

#os : 파일, 디렉토리 관리를 위한 모듈
#이미지를 처리하기 위한 모듈인 'PIL(이미지 처리)'에서 클래스 가져오기
#PIL에서 제공하는 이미지의 Exif 데이터를 해석하기 위한 상수들을 포함한 모듈 가져오기
```
> <h5>이미지 파일 Exif 데이터를 읽어온 후 GPS 정보를 추출하는 코드</h5>

<br>

```
def extract_gps_info(file_path):
    image = Image.open(file_path) 
    exif_data = image._getexif()
    if exif_data is not None:
        for tag, value in exif_data.items():
            tag_name = TAGS.get(tag, tag)
            
#함수 정의	
#주어진 파일 경로에서 이미지 오픈
#열린 이미지에서 데이터 추출
#exif데이터가 있는지 확인, 없으면 아무 작업도 수행하지 않음
#데이터의 각 항목 반환
#exif의 태그를 읽어와 실제의 이름으로 변환
```
> <h5>Exif 데이터를 읽어온 후 GPS정보를 추출하는 함수를 내장하고 있는 코드</h5>

<br>

```
            if tag_name == 'GPSInfo':
                for key in value:
                    sub_decoded = GPSTAGS.get(key, key)
                    print(f"{sub_decoded}: {value[key]}")
                    
#현재 태그가 GPS정보를 나타내는지 확인
#GPS정보의 각 하위 항목을 반복
#GPS태그의 이름 읽어온 후 실제 태그 이름으로 변환
#변환된 GPS 태그 이름과 해당 값 출력

```
> <h5>이미지의 Exif 데이터에서 GPS 정보를 추출하고, 해당 정보를 화면에 출력하는 코드</h5>

<br>

```
def process_images_in_directory(directory_path):
    image_extensions = ['.jpg', '.png', '.gif', '.bmp']

    for root, dirs, files in os.walk(directory_path):
        for file in files: 
           if any(file.lower().endswith(ext) for ext in image_extensions): 
           
#함수 정의, 각 이미지에 대해 함수 호출
#이미지 파일로 인식할 확장자 정의, 필자 같은 경우는 .jpg만 사용해도 되었음
#지정된 디렉토리를 순회하며, 각 디렉토리의 경로, 
 포함된 디렉토리들, 포함된 파일들을 반환한다.
#디렉토리 안의 각 파일에 대해 반복한다.
#현 파일이 이미지파일인지 확인 후 확장자가 지정된 확장자 중 하나인지 확인한다.
           
```  
> <h5>특정 디렉토리와 그 하위 디렉토리에 있는 이미지 파일들을 찾아내기 위한 함수 코드 </h5>

> <h5>지정된 디렉토리를 순회하며 이미지 파일 확장자를 가진 파일을 찾아내고, 처리할 수 있는 코드</h5>  

<br>


```
                file_path = os.path.join(root, file) 
                print(f"\nProcessing: {file_path}") 
                extract_gps_info(file_path) 
#전체경로 생성
#처리중인 파일의 경로 출력
#GPS정보 출력, 함수 호출
```
> <h5>파일 경로를 생성한 후 해당 파일을 처리하는 프로세스를 실행하는 코드</h5>

<br>

```
if __name__ == "__main__":
    directory_path = r"C:\Users\oy699\OneDrive\바탕 화면\exif image"
    process_images_in_directory(directory_path) 
    
#처리할 이미지 파일들이 있는 디렉토리 경로 저장
#지정된 디렉토리 안 이미지 파일을 찾아 GPS정보 출력하는 함수 호출
```
> <h5>메인 코드 블록을 실행시킨 후 처리할 이미지 파일의 경로를 지정하는 코드</h5>

<br>
<br>
<br>


### 2. 분석 본론
#### 2-1. 분석 대상의 경로 파악 및 출력 코드 

<h6>Latitude 위도와 Longitude 경도를 콘솔에서 추출하고 조합하여 진행한다. 

<br>
  
Ex) 37°29'14.1"N 126°49'35.7"E, 위도 - 경도 순으로 배열 후 Google Map Search 진행</h6>

#### <p>별첨자료 1-1 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/0b55cef4-d447-4f5a-89ff-6e2c537fbddb/image.png)

* google map에 아래의 출력 결과를 통해 좌표값을 도출한 후 입력하면 결과가 나타난다. 

```37°29'21.3"N 126°49'29.3"E``` 
> <h5>위도, 경도를 나타낸 좌표로, Google Map의 검색창에 입력할 시 좌표가 등장한다.</h5>



```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif

image\KakaoTalk_20231227_122443617_03.jpg

GPSLatitudeRef: N

GPSLatitude: (37.0, 29.0, 21.26)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 29.25)
```
> <h5>Python 코드를 입력한 후 실행하면 출력되는 내용으로, 내용이 굉장히 많지만 상위 두 부분만 사용된다. 위도와 경도를 위의 좌표대로 배열하면 된다. </h5>

<br>
<hr>
<br>

#### <p>별첨자료 1-2 참고</p>


![](https://velog.velcdn.com/images/woori4603_/post/e2401a41-6adc-4e67-85c0-d0ca4b66ab68/image.png)

``` 37°29'14.1"N 126°49'35.7"E ```


```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_06.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 14.09)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 35.65)
```

<br>
<hr>
<br>

#### <p>별첨자료 1-3 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/dfd620cb-0f74-4796-9f8a-2b9955da505c/image.png)

```37°29'13.3"N 126°49'34.1"E```


```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_08.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 15.3)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 32.79)
```

<br>
<hr>
<br>

#### <p>별첨자료 1-4 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/cc3159c8-5ec3-44b9-b4df-418a8192f92f/image.png)

```37°29'13.3"N 126°49'34.1"E```


```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_09.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 30.5)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 25.98)
```
<br>
<hr>
<br>

#### <p>별첨자료 1-5 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/b0a545ea-0959-42da-8fde-eeb989cbe0e9/image.png)


```37°29'13.1"N 126°49'34.7"E```

```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_23.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 14.23)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 32.96)
```

<br>
<hr>
<br>

#### <p>별첨자료 1-6 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/3e1b2bfa-aef3-42c8-958b-11a69cdc4114/image.png)

```37°30'39.7"N 127°05'54.9"E```


```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_23.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 14.23)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 32.96)
```

<br>
<hr>
<br>

#### <p>별첨자료 1-7 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/359d028a-ab31-4299-92be-b53e76e31665/image.png)

```37°30'39.6"N 127°05'53.5"E```


```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_23.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 14.23)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 32.96)
```

<hr>

#### <p>별첨자료 1-8 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/ba8e3c70-7761-4f7d-9644-65c9325681db/image.png)

```37°30'39.5"N 127°05'51.3"E```



```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_25.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 16.96)
GPSLongitudeRef: E
GPSLongitude: (126.0, 49.0, 32.87)
```

<hr>

#### <p>별첨자료 1-9 참고</p>

![](https://velog.velcdn.com/images/woori4603_/post/58002672-6944-45e3-8cf8-85fcaa73fe72/image.png)

```37°29'14.3"N 126°49'35.5"E```



```
Processing: C:\Users\oy699\OneDrive\바탕 화면\exif image\KakaoTalk_20231227_122443617_26.jpg
GPSLatitudeRef: N
GPSLatitude: (37.0, 29.0, 8.2)
GPSLongitudeRef: E
GPSLongitude: (126.0, 48.0, 41.95)
```

<br>
<hr>
<br>
<br>

### 3. 결론

![](https://velog.velcdn.com/images/woori4603_/post/6ade46e7-0cad-444e-89bd-e292cd69c6bc/image.jpg)

<br>

#### 3-1. 분석 보고서 결론
분석 대상자는, 수업을 위해 환구단 근방을 배회했으며, 이후 성공회대학교 인근 호프집을 방문한 것으로 보여진다. 늦은 시간 기숙사에서 배회한 것으로 보아 해당 대학 기숙사에 거주중인 것으로 보여진다.

이후 서울 송파구에 위치한 롯데월드 어드벤처에 방문하였으며, 실내에 머무른 후 매직아일랜드 측으로 다시 나간 것으로 보여진다. 
거주지는 성공회대 기숙사이며, 조사 대상의 경로는 이것으로 종결된다.

<br>
<br>

#### 3-2. 최종 결론
조사 대상, 용의자를 추적하고 사건의 경위를 파악할 때에 exif를 이용한다. 파이썬 코드로 gps정보를 추출한 후 위도와 경도를 파악해 google map 검색창에 ```00°00'00"N(위도) 00°00'00"E(경도)``` 의 형식으로 	배열한 후 경로를 파악한다. 




#### 4. 별첨자료 (image)

1-1. 
![](https://velog.velcdn.com/images/woori4603_/post/59feae60-e6f2-4685-a39a-879a33af8606/image.jpg)
> 필드워크 과제를 위해 분석대상이 환구단 주위를 배회하고 있음.

1-2. 
![](https://velog.velcdn.com/images/woori4603_/post/4f166986-39a7-4eae-a18e-694688972942/image.jpg)
> 2. 필드워크 이후 성공회대학교 근방 술집을 방문한듯한 이미지

1-3. 
![](https://velog.velcdn.com/images/woori4603_/post/f72fcda6-fbb5-4475-b9b3-ef1247239f81/image.jpg)
> 성공회대학교 6관 4층 맨 끝방으로 보이는 건물의 내부

1-4. 
![](https://velog.velcdn.com/images/woori4603_/post/920ffe76-002c-4498-8d60-87d3292d3ff9/image.jpg)
> 분석 대상이 개인과제 수행 도중 작성한 듯한 이미지이다. 

1-5.
![](https://velog.velcdn.com/images/woori4603_/post/b6ddd296-3f35-4f46-8549-e014ec138f99/image.jpg)
> 성공회대 기숙사 주변 이미지

1-6.
![](https://velog.velcdn.com/images/woori4603_/post/f686b50a-887d-4c43-bdaa-505aeaea2979/image.jpg)
> 롯데월드 회전목마에 방문

1-7.
![](https://velog.velcdn.com/images/woori4603_/post/d48ce6a8-fa34-421e-936d-d4b4d789667f/image.jpg)
> 분석 대상이 후렌치 레볼루션에 탑승하기 직전 촬영한 이미지

1-8. 
![](https://velog.velcdn.com/images/woori4603_/post/c455c3ec-92b9-4f4f-bd1d-fc501e24e494/image.jpg)
> 분석 대상이 롯데월드 실내에서 야외 시설물이 모여있는 곳으로 향하는 도중의 사진

1-9. 
![](https://velog.velcdn.com/images/woori4603_/post/25b0b146-a44a-4bf1-b9b9-42ee8d7afc53/image.jpg)
> 분석 대상을 본뜬 그림 

